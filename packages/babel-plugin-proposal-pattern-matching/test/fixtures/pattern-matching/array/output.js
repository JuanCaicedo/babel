var test = [1, 2, 3, 4];
assert.equal(match(test, [], ([]) => 1, [1, 2], ([_, _2]) => 2, [1, 2, 3, 4], ([_3, _4, _5, _6]) => 3, [1, 2, 3, 4, 5], ([_7, _8, _9, _10, _11]) => 4), 3);
assert.equal(match(test, [], ([]) => 1, [1, 2], ([_12, _13]) => 2, [1, 2, 3, 4], ([_14, _15, _16, _17]) => 3, [1, 2, 3, 4, 5], ([_18, _19, _20, _21, _22]) => 4), 2);
assert.equal(match(test, [], ([]) => 1, [1, 2, $.rest], ([_23, _24, rest]) => match(rest, [3], ([_34]) => 3, [3, 4], ([_35, _36]) => 666), [1, 2, 3, 4], ([_25, _26, _27, _28]) => 3, [1, 2, 3, 4, 5], ([_29, _30, _31, _32, _33]) => 4), 666);
